{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function showMessage(icon, message, bgr) {\n  iziToast.show({\n    iconUrl:icon,\n    titleColor: 'White',\n    titleSize: '24px',\n    message,\n    messageColor: 'White',\n    messageSize: '16px',\n    backgroundColor: bgr,\n    position: 'topRight',\n    timeout: 3000,\n});\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove(\"visually-hidden\");\n}\n\nexport function hiddenLoader() { \n  const loader = document.querySelector('.loader');\n  loader.classList.add(\"visually-hidden\");\n}\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\nexport function createGalleryMarkup(array) {\n  const gallery = document.querySelector('.gallery');\n  return array\n    .map(\n      (image) => `<li class=\"gallery-item\">\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery-link\">\n      <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    </a>\n    <div class=\"gallery-info\">\n      <p><b>Likes:</b> ${image.likes}</p>\n      <p><b>Views:</b> ${image.views}</p>\n      <p><b>Comments:</b> ${image.comments}</p>\n      <p><b>Downloads:</b> ${image.downloads}</p>\n    </div></li>\n  `\n    )\n    .join('');\n} \n","export function searchForm(query) {\n    const pixaBay = `https://pixabay.com/api/`;\n    const API_KEY = '43325485-b0026802577d8a210f4fcd054';\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: `photo`,\n        orientation: `horizontal`,\n        safesearch: true\n    })\n const url = `https://pixabay.com/api/?${params}`;\n    return fetch(url)\n\n    .then(res => {\n   if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n};","export default \"__VITE_ASSET__3108d0c6__\"","\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showMessage } from './js/render-functions.js';\nimport { hiddenLoader,showLoader } from './js/render-functions.js';\nimport { searchForm } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\nimport errorIcon from './img/bi_x-octagon.svg'\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.text-input');\nconst gallery = document.querySelector('gallery')\n    const lightbox = new SimpleLightbox('#gallery-link', \n{ \n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom', \n   \n}); \n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.currentTarget.search.value.trim();\n    showLoader();\n    clearGallery();\n    searchForm(searchQuery)\n        .then(res => {\n            if (res.results && res.results.length === 0) {\n                showMessage(errorIcon, 'Sorry, there are no images matching your search query. Please try again!', '#ef4040');\n            } else {\n                const galleryMarkup = createGalleryMarkup(res.results);\n                if (galleryMarkup) {\n                    gallery.innerHTML = galleryMarkup;\n                    lightbox.refresh();\n                } else {\n                    console.error('Error: createGalleryMarkup returned undefined or not an array.');\n                }\n            }\n        })\n        .catch(err => {\n            console.error('Error:', err); \n        })\n        .finally(() => {\n            hiddenLoader();\n        });\n}\n"],"names":["showMessage","icon","message","bgr","iziToast","showLoader","hiddenLoader","clearGallery","gallery","createGalleryMarkup","array","image","searchForm","query","API_KEY","url","res","errorIcon","form","lightbox","SimpleLightbox","onSubmit","event","searchQuery","galleryMarkup","err"],"mappings":"6vBAMO,SAASA,EAAYC,EAAMC,EAASC,EAAK,CAC9CC,EAAS,KAAK,CACZ,QAAQH,EACR,WAAY,QACZ,UAAW,OACX,QAAAC,EACA,aAAc,QACd,YAAa,OACb,gBAAiBC,EACjB,SAAU,WACV,QAAS,GACb,CAAC,CACD,CAEO,SAASE,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASC,GAAe,CACd,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,iBAAiB,CACxC,CACO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CACO,SAASC,EAAoBC,EAAO,CACzB,gBAAS,cAAc,UAAU,EAC1CA,EACJ,IACEC,GAAU;AAAA,eACFA,EAAM,aAAa;AAAA,wCACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yBAGrDA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA,GAGvC,EACA,KAAK,EAAE,CACZ,CClDO,SAASC,EAAWC,EAAO,CAE9B,MAAMC,EAAU,qCAQbC,EAAM,4BAPM,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAC0C,GAC3C,OAAO,MAAME,CAAG,EAEf,KAAKC,GAAO,CACd,GAAI,CAACA,EAAI,GACN,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCnBA,MAAeC,EAAA,kDCgBTC,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,aAAa,EAClD,MAAMV,EAAU,SAAS,cAAc,SAAS,EACtCW,EAAW,IAAIC,EAAe,gBACxC,CACI,SAAU,GACV,aAAc,IACd,aAAc,MACd,gBAAiB,QAErB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,OAAO,MAAM,OACrDjB,IACAE,IACAK,EAAWW,CAAW,EACjB,KAAKP,GAAO,CACT,GAAIA,EAAI,SAAWA,EAAI,QAAQ,SAAW,EACtChB,EAAYiB,EAAW,2EAA4E,SAAS,MACzG,CACH,MAAMO,EAAgBf,EAAoBO,EAAI,OAAO,EACjDQ,GACAhB,EAAQ,UAAYgB,EACpBL,EAAS,QAAO,GAEhB,QAAQ,MAAM,gEAAgE,CAErF,CACb,CAAS,EACA,MAAMM,GAAO,CACV,QAAQ,MAAM,SAAUA,CAAG,CACvC,CAAS,EACA,QAAQ,IAAM,CACXnB,GACZ,CAAS,CACT"}